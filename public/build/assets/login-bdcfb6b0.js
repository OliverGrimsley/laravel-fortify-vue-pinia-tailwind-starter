import{d as g,u as h,r as f,a as V,b as C,o as i,c as u,e as c,w as b,f as e,g as a,h as v,i as S,t as A,j as p,T as F,p as k,k as I,_ as L}from"./app-dddd4061.js";import{_ as m}from"./textInput.vue_vue_type_script_setup_true_lang-2dece68f.js";const d=n=>(k("data-v-63c24d3e"),n=n(),I(),n),N={class:"flex self-center rounded border border-slate-400 bg-slate-300 sm:w-full md:w-1/2 lg:w-1/3 xl:w-1/4"},U=["onSubmit"],j=d(()=>e("div",{class:"mt-4 text-center text-3xl text-slate-500"},"Login",-1)),B={class:"mb-4"},M={class:"mb-4"},P=d(()=>e("div",{class:"mb-4 flex justify-end"},[e("button",{type:"submit",class:"mx-4 rounded bg-blue-500 px-4 py-2 font-medium text-white"},"Login")],-1)),T={key:0,class:"text-center text-red-500"},E=["onSubmit"],G={class:"p-4"},D=d(()=>e("div",null,"Please enter your 2FA code from your app:",-1)),R=d(()=>e("div",{class:"mt-4 text-xs"},"Can't access your 2FA provider? Login with a recovery code:",-1)),$=d(()=>e("button",{type:"submit",class:"mx-4 mt-4 rounded bg-blue-500 px-4 py-2 font-medium text-white"},"Confirm 2FA Code",-1)),q=g({__name:"login",setup(n){const o=h(),_=f(""),r=f(""),l=V({email:"",password:""}),x=async()=>{await o.login(l)},w=async()=>{r.value?await o.submit2FACodeforLogin(r.value,!0):await o.submit2FACodeforLogin(_.value,!1)};return(z,t)=>{const y=C("router-link");return i(),u("div",N,[c(o).show2FACodeInput?p("",!0):(i(),u("form",{key:0,onSubmit:b(x,["prevent"]),class:"flex w-full flex-col justify-items-center"},[j,e("div",B,[a(m,{modelValue:l.email,"onUpdate:modelValue":t[0]||(t[0]=s=>l.email=s),label:"Email"},null,8,["modelValue"])]),e("div",M,[a(m,{modelValue:l.password,"onUpdate:modelValue":t[1]||(t[1]=s=>l.password=s),label:"Password",type:"password"},null,8,["modelValue"])]),a(y,{to:"/reset-password",class:"text-center text-blue-500"},{default:v(()=>[S("Forgot Password?")]),_:1}),P,c(o).errorMSG?(i(),u("div",T,A(c(o).errorMSG),1)):p("",!0)],40,U)),a(F,null,{default:v(()=>[c(o).show2FACodeInput?(i(),u("form",{key:0,onSubmit:b(w,["prevent"])},[e("div",G,[D,a(m,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=s=>_.value=s),label:"2FA Code"},null,8,["modelValue"]),R,a(m,{modelValue:r.value,"onUpdate:modelValue":t[3]||(t[3]=s=>r.value=s),label:"2FA Recovery Code"},null,8,["modelValue"]),$])],40,E)):p("",!0)]),_:1})])}}});const K=L(q,[["__scopeId","data-v-63c24d3e"]]);export{K as default};
